自动化学报
ACTA AUTOMATICA SINICA
1997年　第23卷　第4期　Vol.23　No.4　1997



一种在线建模方法的研究1)
赵希男　粱三龙　潘德惠
　　摘　要　针对一类系统提出了一种通用性较强的建模与决策方法以及在线生成系统模型的途径. 该法可广泛用于静态、动态、线性与非线性系统的建模与决策. 
　　关键词　系统辨识，半结构系统，非线性系统，模型生成. 
AN ON-LINE MODELING METHOD
ZHAO XINAN LIANG SANLONG PAN DEHUI
(The Faculty of Business Administration, Northeastern University, Shenyang　 110006)
Abstract This article puts forword a method for on-line modeling and decision making. simulations and practices have shown that the method can be widely applied to modeling and decision making for static, dynamic, linear or non-linear systems, even for distributed parameter systems.
Key words System identification, semi-structure system, non-linear system, on-line modeling.
1　引言
　　快速而准确地建立系统的数学模型以及制定对系统的控制策略大都是在系统的数学模型已知或系统的数学模型结构已知的情况下，采用相应的控制算法或自适应控制算法(即先进行模型参数的适应性辨识， 再求控制策略)制定的. 然而，由于系统的多样化和复杂性使得系统模型结构的分析十分困难， 并要耗费大量的时间和精力；即使如此，有时由于现有的测量和控制手段的限制，得到的结果也很难真正使用. 因此 ，现实中常常需要解决结构复杂或结构未知系统的控制问题. 本文针对该类问题提出一种解决的方法和实现的途径. 
2　问题描述
　　设所考虑的系统S中，X为能检测的初始状态， U为可调控变量，Y为目标变量. 并设全部可能的初始状态{X}、全部控制变量{U}及全部可能的目标结果{Y}分别构成Hilbert空间［1］，分别记作Hx,Hu,Hy. 一般实际系统均满足此条件. 
　　我们定义系统的两种问题为： 1) 已知系统的初始状态X和系统的理想目标Y*. 需选择恰当的控制变量U,使系统达到或接近Y*. 此问题为系统控制问题，用(X，Y*｜U)表示. 2) 已知系统的初始状态X和将实施的系统控制U， 欲了解系统的输出状况Y. 此即为预测问题，用(X，U｜Y)表示. 
3　方法体系
　　针对实际生产系统， 设系统具有反复运行的特征，由此可以得到系统运行的若干个样本(Xi,Yi,Ui)(i=1,2,…n). 这些样本完全可以是长年生产中得到的，具有代表性. 
　　可设定如下预测问题的模型结构. 
　　1) 在Hx×Hy中考虑上述样本的分类情况. 定义Hx×Hy空间中两点(X1,U1),(X2,U2)间的距离为

其中w1和w2为调整系数. 因此，可采用最短距离的原则［2］，对得到的样本集合进行聚类分析， 产生p个类及对应的p个典型样本Z(k)=[X(k),Y(k),U(k)],k=1,2,…p. 
　　2) 可认为系统S在典型样本Z(k)附近的变化规律为

(1)
其中，分别为Hx及Hu到Uy的线性算子，εy为误差项. 
　　以上设定的模型结构(数学表达式和分类选择)具有比较广泛的通用性. 这是因为一般系统的初始状态和输入，决定了系统的输出. 也就是说，系统的输出是通过某算子对系统初始状态和系统输入的作用而得到的. 如果这些算子具有一定的连续性(大部分实际系统都具有这种属性)， 则由文献［3］，采用线性逼近方式，可以得到式(1)的数学表达形式， 其精度通常与(X，U)和(X(k),U(k))间的距离有关；而分类方法可以补偿这种不足. 
　　对于控制问题，由于最优控制方案是人们依据系统的状态和实际的需要而制定的. 因此可用类似的处理方式，得到对应的模型结构，所不同的是分类的距离计算是在Hx×Hy空间，而数学表达式为

(2)
　　余下的工作是有关算子,和, 的辨识及对结果的使用问题. 由于模型中的数学表达式的结构基本上已是最简单的类型， 因此其辨识问题已有较成熟的方法［4，5］， 只是需根据具体问题的特征选择相宜的方法. 需要注意的是在辨识中使用同一类的数据并可采用加权的形式进行(权重可取为样本到典型样本Z(k)的距离的倒数). 
4　方法的动态实现
4.1　线性算子的适应性辨识
　　对于某特定的系统S，在明确了Hx, Hy及HU以后，通常可掌握HX到HY或HU到HY上线性算子的一般形式，或得到一组有代表性的算子序列A1, A2，…,Am;同理，也可得到相应的HU到HY上的一组有代表性的线性算子序列B1, B2…, Bn. 以预测模型为例，则可认为

(3)
其中， (i=1,2,…,m), (j=1,2,…m)是待定系数. 将式(3)代入式(1)中，得

(4)
由于HY是Hilbert空间，因此，对于第k类样本Z(k)=[X(k),Y(k),U(k)], 可将算子的辨识问题转化为参数辨识问题，即选择,使得

(5)
其中是对应模型(4)的样本误差，[,]是HY空间中的内积运算，σj是权系数. 如果令

则问题(4)就是Hilbert空间HY中元素间的最佳逼近，与N维向量空间的最佳逼近同构. 因此，N维向量空间中的递推公式可直接用于目前的空间中来［6］. 此外，还可利用拓广的逐步回归方法［7］对(3)式中的诸算子进行有效性筛选. 
4.2　动态聚类
　　如果能实现动态聚类，再结合模型的自适应辨识，则前述具有较强通用性的方法体系便可在线生成模型及控制策略. 动态聚类的方法很多，我们结合下面的应用实例加以介绍.
5　应用
　　将本方法应用到转炉炼钢生产系统中，取得了较好的结果. 
　　转炉炼钢是一个短周期的高温冶炼过程，它包括复杂的物理和化学反应. 由于检测技术等原因， 其初始状态变量有铁水重量、铁水温度、铁水成分(硅、锰、磷、硫等)和废钢加入量等八项指标，统一记成X向量；控制手段有吹氧、添加白云石、混料、石灰石和白灰等五种，统一记成U向量；目标变量为钢水温度和钢水含碳量，统一记成Y. 建模的任务是解决问题(X，Y*｜U)， 其中U是使系统在到Y*所需要的各控制总量. 
　　使用本方法的准备工作和运用过程如下：
　　①通过分析可知，HX到HU和HY到HU的线性算子,分别是5×8阶和5×2阶实数矩阵. 因此，对应(5)式中的辨识工作直接是参数的自适应估计［5］. 
　　② 编制计算机程序(采用FORTRAN77语言). 
　　③ 通过现场调查和咨询专家， 确定了各初始条件变量和各目标变量大致的变化范围. 将变化范围输入计算机，依此建立了各初始变量的标准化尺度和聚类标准. 
　　④ 操作人员输入一个样本. 将问题信息标准化后，计算机建立了只有代表点的类及模型(此时，该类数学表达式中的算子均为零算子)， 并准备接受下一个问题. 
　　⑤ 操作人员输入一个问题信息(X，Y*). 计算机对该信息在标准化处理的基础上，进行聚类分析. 按照聚类标准，如果有所属的类别，则用其类的数学表达式给出控制方案；否则，给出提示信息后，按照最靠近的类的特征给出控制方案. 每次运行， 操作人员都可对控制方案进行调整，但计算机要将实际控制方案记录在案，以备模型的修正. 
　　⑥ 实际系统运行结束后， 如果计算机得到修正模型的命令， 则将实际的问题信息进行聚类分析后，依据聚类标准和实际情况， 或修正已有模型，或建立新的类. 然后准备接受下一个问题. 
　　反复运行上述过程中⑤和⑥， 建立了与实际需要相对应的模型. 由于以上工作主要是针对低碳钢的钢种开展的工作， 我们只建立了对应12个类别的数学模型就基本上满足了需要［8］. 受到了现场的欢迎并通过部级鉴定. 
　　需要说明的是， 对于预测问题(X,U｜Y)，聚类工作是依据HX×HU中的信息进行的. 
6　结束语
　　本文提出的模型生成方法具有简单易行的特点，尤其是本方法的思想体系具有较强的通用性. 从理论的分析上看，由于聚类分析的引入，似乎会引起较大的计算量. 但由于在实现方面，采用在线的方式，可使聚类的范围大幅度地缩小，从而也减少许多聚类工作量. 
　　从模型的结构上可以看到， 本文的思想方法完全适用于动态系统或系统结构尚不十分清楚的系统. 由于篇幅所限，省略了对动态系统建模仿真方面的介绍. 
1) 中国科学院自动化所复杂系统工程学开放实验室资助项目.合同编号：105―82150.
作者单位:东北大学工商管理学院　沈阳　110006
参考文献
[1] 郑维行，王声望. 实变函数与泛函分析概要，第二册.北京：人民教育出版社， 1980.159―180.
[2] 张尧庭， 方开泰.多元统计分析引论.北京：科学出版社， 1982.402―439.
[3] Balakrishan A V. Applied functional analisis. Germany Heidelberg:Springer-Verlag, 1985. 2―36.
[4] 潘德惠.数学模型的统计方法.沈阳：辽宁科学技术出版社，1986.201―246.
[5] Goodwin G C, Payne R I. Dynamic identification, New York: Academic Press, 1977, 32―119.
[6] Ljung L, Soderstrom T. Theory and practice of recursive identification. Cambridge, London:The MIT Press: 1983. 136―247.
[7] 赵希男.逐步回归方法的拓广研究.应用数学，1994， (4)：403―409.
[8] Jiang Shenyan, Pan Dehui, Zhao Xinan. The Development and study of automation technique for convertor with top-bottom blowing. IFAC MMM′会议文集， 北京：1992. 
收稿日期　1995-01-17
