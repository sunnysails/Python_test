计算机应用
COMPUTER APPLICATIONS
1999年 第19卷 第10期 Vol.19 No.10 1999



Internet上协同环境的虚拟现实交互技术
王河　顾君忠
　　摘　要　本文在讨论第二代WWW的核心技术―VRML的基础上，分析了它对Internet上的CSCW应用的影响，特别是在提高Internet上协同工作环境中用户交互的感知性和交互性方面的作用。并提出了一种基于Internet虚拟现实交互的CSCW应用结构，该结构可以解决Internet上的CSCW应用系统的一些局限性。
　　关键词　VRML，CSCW，Internet，协同环境，虚拟现实，第二代WWW，交互技术
VIRTUAL REALITY INTERACTION TECHNOLOGY OF
THE COOPERATIVE ENVIRONMENT ON INTERNET
Wang He　Gu Junzhong
Depatment. of Computer Science, East China Nomal University， Shanghai 200062
　　Abstract　In this paper, we discuss the VRML which is the core technology of the Second Generation WWW. Then we analysis its influence on the CSCW application on Internet, especially the influence of user awareness and interaction. According to these, we give a kind of architecture of the CSCW applications that is based on the virtual reality interaction technology on Internet. This application architecture can solve some limitation of the CSCW application on Internet.
　　Keywords　VRML, CSCW, Internet, Cooperative environment, Virtual reality,Second generation WWW, Interaction technology
1　前言
　　随着全球网络的发展，特别是Internet的普及，使得原本孤立的PC联系起来。人们通过网络传递和交换信息，WWW使信息资源的发布与访问变得十分方便。随时随地的信息访问逐渐成为了现实，而且人们之间的距离也被拉近了。
　　环球网络尤其是Internet也使得基于它的在全球范围内开展的各种类型的协作成为可能。Internet为CSCW（Computer Supported Cooperative Work）提供了广阔的“舞台”，并使计算机更好地参与到人们的工作、学习和生活中来。例如：利用Internet发布信息、收发电子邮件、远程视频会议、远程教学、远程医疗、远程购物等等。一系列的协作应用，也展示了Internet本身的无穷魅力。这些应用虽然都利用了WWW方便的人机界面来实现更高的方便性、灵活性以及更强的包容性，但是在协作者之间的感知与实时交互方面却带有很大的局限性。随着交互的、三维的第二代WWW［8］的到来，为解决上述问题提供了一种新的方法和手段。
　　本文讨论如何运用第二代WWW的核心技术―VRML来进行Internet上协同环境的虚拟现实交互，以提高协同工作者之间的感知性与交互性。并提出了一种基于Internet虚拟现实交互的CSCW应用结构，解决Internet上的CSCW应用系统的局限性。
2　Internet上的协同环境
2.1　Internet 推动了CSCW的发展
　　首先，Internet的发展使得CSCW和它紧密地联系在一起。Internet为CSCW提供了广阔的“舞台”，它构成了一个对CSCW进行支持的统一环境。Internet的发展使基于更高层次的协同工作成为可能，它可以使世界上不同地方的人们不再受到地域和范围的限制，联系在一起工作、学习和娱乐。而且Internet所蕴含的巨大的信息资源也为协同工作的参与者提供了丰富的信息共享资源。
　　目前在Internet上开展的协同工作方式主要有：远程通信、日常工作日志的安排、共享编辑环境、远程视频会议、远程医疗、远程教学、远程购物、远程工作等等（如图1）。

图1　基于Internet的CSCW
2.2　Internet上协同环境的局限性
　　由于Internet本身的特点，使得它对CSCW应用的支持带有一定的局限性。
　　目前Internet上流行的是TCP/IP网络协议，它不能预留一定的网络带宽给某些特定的应用。所以在Internet上实时连续地传输音频、视频信息就受到了限制，对于一定高质量的图像信息的传输也不是非常令人满意，更不用说为了实现逼真的亲临现场的感觉而需要的三维造型虚拟场景的数据传输了。而且目前Internet对于用户界面的支持也是有限的，HTML只能对静态的文本和图像进行标记，使得协同工作环境在用户界面和交互方式上显得不够友好，这影响到协同工作的效果与效率受。利用E-mail的通讯方式在交互的实时性方面也存在着严重的不足。
2.3　解决局限性的一条思路
　　用户界面和交互手段的好坏直接关系到参与协作用户的感知，关系到协同工作开展的好坏，因此在Internet上建立协同工作环境也特别需要考虑用户的工作环境及交互方式的构造。
　　虚拟现实（VR：Virtual Reality）当然是实现协同工作环境的最佳方式。在虚拟现实系统中用户向计算机系统输入各种感觉（如视觉、听觉、触觉和感情）从而使参与者产生身临其境的感觉。虚拟世界由计算机自动生成。虚拟现实技术不同于可视化计算，可视化计算只能使用户通过监视器从外向内观察数据空间，无法做到身临其境，缺乏临场感。而虚拟现实技术创造了一个十分逼真的三维视听和感觉的虚拟空间环境，而且这种三维环境可以随需要变换。
　　以虚拟现实造型语言（VRML― Virtual Reality ModelingLanguage）为核心技术的第二代WWW的到来，为虚拟现实与Internet的结合提供了一条新思路，也为基于Internet的协同工作的发展提供了一种新的虚拟现实的工作环境和交互技术。
3　第二代WWW与VRML
3.1　第二代WWW的出现
　　随着基于Internet应用的不断发展，人们已经感到现有的基于HTML的Internet应用开发技术不太完善，尤其是在多媒体的支持方面。HTML只能支持静态的文本和二维图象/图形，虽然可以通过各种扩展技术加入对动画和三维图像的支持，但是无论从处理的效率、占用网络的带宽和功能上来说都不够理想。虚拟现实造型语言（VRML）的诞生和发展使得创建一种新的三维网络世界成为可能，使得用户可以通过WWW进入这个虚拟的环境并操纵虚拟环境中的对象，也为基于Internet的CSCW提供了全新的虚拟现实交互手段。
　　第一代WWW是一种访问文档的媒体，能够提供阅读的感受，使那些对Windows风格熟悉的人们容易使用Internet，从而使得上网的人数激增，推动了Internet的发展，但是它毕竟有它的局限性。从某种程度上说，第一代WWW=多媒体+Internet。VRML是三维的、交互性的第二代WWW的实现基础。第二代WWW是将VRML、HTML、Java、多媒体和数据库技术结合起来形成了一种全新的三维超媒体的Internet。其核心是通过VRML把以页面为中心的Web模式转变为交互、三维、动态逼真的世界，它的应用潜力巨大，凡是在真实世界中所进行的活动，人们都可以将其移到Internet上来进行。从这个意义上说，第二代WWW=多媒体+虚拟现实+Internet。

图2　第二代Web的核心技术
　　第二代WWW使得浏览者如身处真实世界，在一个三维的空间中探询Internet上丰富的信息资源。每一个人都可以从不同的路线进入虚拟世界与虚拟物体交互。这样受控制的就不再是计算机而是用户自己。人们可以用习惯的自然方式访问各种场所，在虚拟“社区”中“直接”交谈和交往。与第一代WWW相比，第二代WWW在实现的功能上有了如下的变化：
表1　第一代WWW和第二代WWW的功能比较

项目第一代WWW第二代WWW
通信发送电子邮件交谈
探索浏览页面可访问各种场所
协同共享文档共享白板、音频/视频、三维
社交逐字逐句交谈动态的富有表情的交谈
购物联机目录虚拟商场
学习阅读文档多媒体计算机终端
游戏按文字扮演角色多人三维游戏

　　将现有的Internet应用开发技术（HTML、Java、Quick Time、Gif Animation等）结合到VRML技术中去是Web从二维转到三维的关键，是第二代WWW实现的基础。VRML充分地利用了PC的媒体处理能力和计算能力，对带宽不做过高的要求，它的跨平台性，也使得更多的Internet用户可以接触到第二代WWW的魅力。
3.2　VRML
　　VRML是一种网络上使用的描述三维环境的场景描述语言，它是“Virtual Reality Modeling Language”的简称。VRML是使虚拟现实技术在Internet网页上得以实现的工具。
　　VRML的代码可以描绘三维立体的场景，以及在用户的操作下这些场景的变化。它的代码与HTML一样是以文本或ASCII码形式编写的，一般由成百上千个预定义的基元图形组成。从最严格的意义上讲VRML不算是一种编程语言，至少它不是编程人员所说的编译型语言。
　　VRML的实现基础是一个利用HTTP协议传输数据的全球网，和SGI设计的Open Inventor文件格式，它是完全跨平台的。VRML文件的访问方式是基于客户/服务器模型的。
　　VRML是一种面向Internet，面向对象的三维造型语言，是一种解释型的语言。它是完全面向对象的，通过许多图形和视、听、触觉对象来描述一个三维场景。
　　虽然VRML文件的一个重要特性是能够通过包含关系把文件组织在一起，利用层次性的文件和包含关系创建任意大的场景。但是这也是VRML本身的弱点，造成了它对复杂对象或场景进行表现时的复杂性。因为场景一复杂，构成场景的多边形和面的数量也就多了，而且还要牵涉到各个面和多边形的相对坐标位置的复杂关系，所以单纯地用手工来编写VRML的代码还是不合适的。目前已经有了VRML的场景编辑器，如：Cosmo公司的HomeSpace Builder、Platinum Technology公司的VRCreator等。利用VRML的场景编辑器可以帮助你完成对虚拟场景的构造。
4　协同环境的虚拟现实交互技术
4.1　虚拟现实交互的CSCW应用系统
　　Internet的发展使得协同工作技术的研究也开始转移到了Internet上来。基于Internet的CSCW应用研究同时也使CSCW本身得到了巨大的发展。目前在Internet上的CSCW应用由于受到Internet本身及其应用开发技术和工具的影响，使得在Internet上开发CSCW应用并不能随心所欲。特别是目前的网络带宽限制使开发的协同环境无论是在场景的构造上还是在协作者的交互方法上都有很大的不足。
　　我们提出一种基于Internet虚拟现实交互的CSCW应用结构。它是利用VRML来搭建Internet上的虚拟工作空间，作为协作者的交互空间。VRML搭建的Internet上的虚拟现实场景可以使用户产生身临其境的感觉，利用VRML的感应结点接受用户的输入信息以及相应的反馈，来增加虚拟场景的交互性，虚拟现实的场景是完全符合人们感知心理的一个交互环境。
　　协作者的所有活动都发生在这个虚拟的空间中，就象我们现实中生活、工作、学习一样，总归离不开周围的环境。不管是协作者与应用系统之间的交互还是协作者之间的交互都通过虚拟空间来进行，包括实时的和非实时的。虚拟空间在其中起着中间代理的作用，它接收用户发出的所有消息，并做必要的处理和反馈。发生一次最简单的任务事件的消息流如下：
　　① 协作者A提出事务请求；
　　② 虚拟空间接受A的请求；
　　③ 虚拟空间根据请求内容作分类处理；
　　④ A提出的对虚拟空间的请求，虚拟空间直接产生响应并反馈给A；
　　A提出的对协作者B的请求由虚拟空间传递给B；
　　⑤ B响应A的请求，产生相应动作；
　　⑥ B再将A的响应结果传递给虚拟空间；
　　⑦ 最后由虚拟空间传回A，完成一次事务。
　　如图3：

图3　基于Internet的虚拟现实交互的CSCW应用中的消息流
　　在实现这种应用结构时要特别注意虚拟空间与其它具体应用工具的接口。VRML创建的虚拟空间本身提供了空间与协作者之间的交互，包括消息的响应和传递，以及部分简单用户需求的处理。但是在虚拟空间与协同环境的特定应用之间就必须要有相应的接口来实现它与用户之间的交互，通常可以用JAVA配合VRMLScript来实现这些接口。
　　综上所述，Internet上协同工作环境的系统结构是以VRML构造的虚拟空间为其工作、交互空间，再结合其它专用的Internet应用。协同工作者之间的交互通过虚拟空间来进行，而一些具体的应用则可通过调用相应的应用接口来实现。
4.2　用VRML实现Internet虚拟现实交互的好处
　　. 丰富了媒体的表现形式
　　利用VRML来构造三维的立体空间，可以在原本二维平面的媒体表现形式上增加了三维立体的形式。媒体的表现形式更为丰富，更加方便用户获取信息，使得协同工作可以更好地开展下去。例如：在基于Internet的远程教学中，WWW是发布教育内容的主要平台，在这种教育模式中作为信息提供者的教师，通过编写多媒体的教学课件，在Internet上完成教学活动。光用HTML编写的教学课件表现的能力有限，基本上是课本的翻版，学生也不会有太大的兴趣。而用VRML可以构造课本中内容的三维立体模型，如化学分子的结构、地球模型等。这样学生面对的不再是枯燥的文字材料，而是表现力更强的实物模型。
　　许多工程都要依赖于图形工具来直观地显示各种产品，传统的图形工具绘出的只是二维的图纸，在表现力和用户的接受力上远不及利用VRML构造的实物三维立体模型。利用VRML构造的模型进行交流、演示和产品的说明，可以提高协作者的感性认识，提高工作效率。
　　. 提供了协同工作角色的可视化管理
　　在协同环境中对参与协同工作的角色进行管理也是协同环境需要研究的重要内容。协作者能够实时地了解其他协作者的状态可以使他们之间的协作更好地进行。协同环境的角色管理也已经从非实时提高到了实时，从状态提示型跃进到了可视化。一般的通过安装摄像头来实现可视化，但是要在Internet上来传输这样的视频流，既浪费了资源，效果也不好。
　　利用VRML构造虚拟角色，可以帮助我们达到上述目的。每个协作者对应到虚拟空间中的各个虚拟角色，这样当一个协作者结束了这次工作，在虚拟空间中就表现出那个虚拟角色离开了。例如：在基于Internet的远程教学构造的虚拟教室中，有某学生举手，教师就可以在虚拟教室中看到那个学生控制的虚拟学生举起了手。这种表现力是最强的，完全可视化的，但是它又不象传输视频那样对带宽有一定的要求。因为，虚拟角色的一个举动，只需传送少量的控制消息，并不需要把整个动作画面都通过网络来传输，从而实现了对协作者的可视化管理。
　　. 改善了协同环境的用户界面
　　虚拟现实所追求的就是用户的“沉浸感”、“临场感”。VRML虽然无法与戴着头盔式显示仪、数据手套等的虚拟显示系统相比。但是它所创建的三维虚拟空间要比单纯的应用程序界面要友好得多，使协作者有身临其境的感受。例如：原先的远程教学，学生面对的是HTML的页面，也看不到老师，界面比较单调枯燥。现在，在用VRML创建的虚拟教室中，学生面对如同现实中一样的教师、黑板、教室，如同在真的教室中上课。这种用户界面不管对学生还是老师来说，都更亲切自然，容易让人接受。
　　. 增强了协同环境的交互性
　　人们在通过CSCW系统进行协同工作时，当然希望系统能够提供一个自然的、可以直接面对面交流的感知通道。VRML技术为CSCW的Internet应用提供了虚拟现实的用户交互手段。这种用VRML创建的三维立体空间充分地考虑了CSCW应用中协作者人的因素，强调了虚拟空间中对象的交互性。它既可以给用户提供实时的响应，如音频、视频的传送，用户的管理等；也可以在其中进行非实时的交互，如电子邮件的传送等。协作者可以通过控制虚拟角色在虚拟空间中直接相互交流，接收三维交互的媒体信息。改变了过去呆板的对话框文本输入式的交互，提高了用户的感受力。
　　可见将VRML融合到Internet的协同环境中去，实现Internet上的虚拟现实交互，可以使我们的协同工作达到更好的效果。
5　结束语
　　充分利用Internet的巨大资源，开展CSCW的应用研究，是CSCW发展的一大趋势。第二代WWW的发展壮大，也为利用VRML提供的三维的、交互的、逼真的虚拟现实空间来进行协作之间的交互提供了有力的手段。在此基础上，进一步地研究如何加强对协作对象的交互控制，提高虚拟协作环境的可适用性，是我们继续研究的方向。
作者简介：王河　博士研究生。
顾君忠　教授，博士生导师。
作者单位：华东师范大学计算机科学系　上海（200062）
参考文献
［1］　Prabhat K. Andleigh & Kiran Thakrar，著. 多媒体系统设计. 徐光佑，史元春，译. 北京：电子工业出版社，1998
［2］　邓　芳，卢　沛，周　烽，李怀诚. 基于Internet技术的CSCW系统. 第一次全国CSCW学术会议论文集
［3］　史美林，杨光信. 计算机支持的协同工作：过去、现在和未来. 第一次全国CSCW学术会议论文集
收稿日期:1999-05-12
