自动化学报
ACTA AUTOMATICA SINICA
1997年　第23卷　第4期　Vol.23　No.4　1997



离散事件动态系统事件时序的鲁棒性1）
赵千川　郑大钟
　　摘　要　指出了离散事件动态系统事件时序同离散事件动态系统的若干重要性质的联系.对于极大代数描述的DEDS模型，较系统地研究了事件时序在参数发生区间摄动情形下的鲁棒性的有限检验问题.对于事件发生时刻是摄动参数的仿射线性函数的情形，得到事件时序鲁棒性的Kharitonov-like判据.对于事件发生时刻是摄动参数的多项式函数的情形，证明其通常不存在事件时序鲁棒性的顶点有限检验判据.给出了这种情形下事件时序在参数发生摄动时能够保持的一个充分条件.
　　关键词　离散事件动态系统，事件时序，鲁棒性，仿射线性函数.
ON ROBUSTNESS OF EVENT-ORDER OF DEDS
ZHAO QIANCHUAN　ZHENG DAZHONG
(Dept.of Automation,Tsinghua University, Beijing　100084)
Abstract　In this paper,we point out the relations between event-order and several important properties of Discrete Event Dynamic Systems.We obtain a series of results on robustness of event-order for the maximum algebra DEDS model.A Kharitonov-like finite check criterion for robustness of event-order is given for the case in which the event occurrences are affine linear function of perturbed parameters.Vertex check is shown not sufficient to determine the robustness of event-order under more general circumstances by a counter-example.A sufficient condition for DEDS to preserve event-order under parameter perturbations is then given for the polynomial case.
Key words　DEDS.event-order,robustness,affine linear function.
1　引言
　　近来，离散事件动态系统(DEDS)模型［1］被广泛应用于通讯网、交通网和制造系统等人造系统的描述、分析和控制中，DEDS的一个重要特征是系统状态的演化是由离散时刻发生的事件驱动的.事件发生的时序与系统的许多重要性质都有关系.事实上，事件时序关系的重要性早已为一些学者认识.摄动分析中所作的轨道相似性［2］假定，就是要求两个样本轨道中全部事件的时序都相同.当然，轨道相似性只是DEDS事件时序性质的一个特例，也有许多其他性质并不一定涉及所有事件.例如，在制造系统中，加工的无阻塞性，就仅取决于缓冲区上游机器加工完成和下游机器取走已满缓冲器中工件这一对事件的时序，只要上游机器加工完成事件先于后者，上游机器就阻塞；反之，下游机器取走已满缓冲器中工件事件先于前者，就无阻塞.自动机监控理论［3］要求系统逻辑行为满足在指定的语言当中，就是对系统当中的某些事件发生的先后顺序提出若干要求.
　　由于建模的不精确性，模型不可避免地会带有一定的不确定性.例如通讯中的时延，制造系统中刀具的钝化等因素，都可以造成模型中参数的摄动.参数的摄动会不会引起系统重要性质的改变，关系到系统设计是否具有鲁棒性，也直接影响DEDS理论在工程应用中的价值.
　　本文在DEDS的极大代数模型上，研究事件的时序在参数发生区间摄动情形下的鲁棒性有限检验问题.本文的研究只针对有限的事件集合和有限维参数空间进行.
　　首先将问题形式化.所研究的事件集合记为E={e1,e2,…,eG}.G<∞表示事件个数.事件时序由E上的一个偏序关系Res给出，定义为
e1 Res e2当且仅当(e1,e2)∈J,　t(e1)≤t(e2).
(1)
其中JE×E是E上给定的二元关系，代表所关心的有先后顺序要求的事件对的集合；t(e)表示事件e的发生时刻.为了表示事件发生时刻对于参数的依赖关系，对于给定参数θ，将事件e的发生时刻记作t(e,θ).
　　定义1.　Res对于参数θ成立，是指
t(e1,θ)≤t(e2,θ) (e1,e2)∈J.
(2)
　　定义2.　Res称为对于参数在Θ中的摄动具有鲁棒性，是指Res对于任意参数θ∈Θ都成立，也就是
t(e1,θ)≤t(e2,θ) (e1,e2)∈J,θ∈Θ.
(3)
2　事件时序鲁棒性Kharitonov-like判据：仿射线性函数情形
　　假定参数空间是一个n维空间中的超方体
Θ={θ=(θi)∶θi∈[i,i], i=1,…,n},
(4)
其顶点集合记作V(Θ)，即
V(Θ)={θv=(θv(i))∶θv(i)=i　或　i, i=1,…,n}.
(5)
Kharitonov-like判据就是把整个参数空间上的检验归结为只在其顶点集合上的检验判据.
　　仿照普通代数中仿射线性函数的概念，定义极大代数意义下Θ上的仿射线性函数.
　　定义3.　函数f(x)称为极大代数意义下的n元仿射线性函数，如果
f((x1,…,xi-1,axi,xi+1,…,xn))
=af((x1,…,xi-1,xi,xi+1,…,xn))f((x1,…,xi-1,ε,xi+1,…,xn))，
(6)
这里ε是极大代数的零元，采用“”和“”分别表示极大代数的“加”和“乘”运算.除特别说明，运算均为极大代数意义下的.所论及的各系数∈[-∞,+∞).
　　可以证明，仿射线性函数具有下述更明显的表达式.
　　命题1.　仿射线性函数

(7)
其中L是有限的自然数集合，σl{1,…,n},　并且σi≠σj，　如果i≠j.
　　本节主要结果是一个事件时序鲁棒性的Kharitonov-like判据.
　　定理1.　如果e∈E,t(e)是参数的极大仿射线性函数，Res对于参数在Θ中的摄动具有鲁棒性的充分必要条件是Res对于θv∈V(Θ)成立.
　　证明.必要性显然.证充分性.已知Res对于Θ的顶点集合成立，即(e1,e2)∈J,θv∈V(Θ)成立，
t(e1,θv)≤t(e2,θv).
(8)
任意给定一个(e1,e2)∈J.由t(e1,x),　t(e2,x)均为仿射线性函数，根据命题1，可将其分别展开为

(9)

(10)
任取超方体中一点θ∈Θ.将参数θ代入t(e1,x).在t(e1,θ)的表达式(9)中任意取定一项，不妨设为第s项cs(e1)xi,σs(e1){1,…,n}.定义依赖于e1,e2,θ，和s的一个超方体顶点θv(e1,e2,θ,s)，其在参数空间中的第i个坐标取为

(11)
显然
θv(e1,e2,θ,s)∈V(Θ).
故根据超方体顶点处成立的事件时序关系必有
t(e1,θv(e1,e2,θ,s))≤t(e2,θv(e1,e2,θ,s)),
(12)
依θv(e1,e2,θ,s)的取法显然成立

(13)
设表达式t(e2,θv(e1,e2,θ,s))的第u项满足

(14)
即其第u项为一个最大项.结合(12)(13)可得

(15)
从(15)式两端约去乘积i得到

(16)
式(16)两端同时乘以θi，有不等式

(17)
又显然

(18)
及

(19)
所以结合(17)式可知

(20)
由s的任意性， t(e1,θ)≤t(e2,θ)成立.由θ的任意性，进而由(e1,e2)的任意性，充分性证明完成.
3　事件时序鲁棒性顶点检验失效的例子
　　本节给出一个例子说明，与仿射线性情形不同，当事件发生时刻是区间摄动参数的极大代数意义下的多项式函数时，只检验参数空间的顶点，还不足以保证整个参数摄动空间上事件时序都保持.这就排除了一般意义下多项式函数情形事件时序存在Kharitonov-like判据的可能性.
　　定义4.　极大代数意义下的n元多项式

(21)
其中m,αs,i都是非负整数.
　　反例.　f(x1,x2)=x1x21和g(x1,x2)=()(1)是两个二维参数空间上的多项式.给定区间型参数摄动空间Θ=[1,2]×[0,4].在参数空间的所有四个顶点处，通过直接代入计算可以验证不等式
f(θ1,θ2)≤g(θ1,θ2),(θ1,θ2)∈{(1,0),(1,4),(2,0),(2,4)}.
(22)
即不等式f(x)≤g(x)在顶点集合V(Θ)上成立.然而在点(θ1，θ2)=(1.5，1.0)∈Θ处，却有相反方向的不等式
f(1.5，1.0)=3.5＞3=g(1.5,1.0).
(23)
这表明一般地，不等式f(x)≤g(x)在顶点集合V(Θ)上成立并不蕴含不等式f(x)≤g(x)在Θ上恒成立.
4　事件时序保持的充分条件：多项式情形
　　虽然上一节的反例表明，对于事件发生时刻是摄动参数多项式的情形，事件时序不存在顶点检验判据，我们还是可以给出在超方体顶点处验证的保证事件时序的充分条件.在叙述定理之前，对于给定的参数摄动空间Θ我们先引入两个项式之间的一个关系Rc.
　　定义5.　多项式对(f,g)称为具有关系Rc，如果

(24)

(25)
满足条件：对于任意的i=1,…,m，与i相关的m个不等式

(26)
均不同时成立.这里的参数θ(i,j)仍取自超方体顶点集合，其分量为

(27)
　　命题2.　如果多项式对(f,g)具有关系Rc，那么在Θ上f(x)≤g(x)恒成立.
　　证明.用反证法.反设在θ∈Θ处，
f(θ)>g(θ).
(28)
不失一般性，假定f,g的表达式由(24)和(25)给出.由式(28)，可以找到i∈1,…,m，使得

(29)
这就意味着下面m个不等式同时成立

(30)
从(30)可以得到

(31)
其中σij={k∶αk,i≥αk,j}.注意到

(32)
及

(33)
我们有

(34)
于是m个不等式

(35)
同时成立，这与(f,g)具有关系Rc矛盾.命题证明完成.
　　在此命题基础上，可直接得到下面的定理.
　　定理2.　设任意事件e∈E的发生时刻t(e,θ)是摄动参数空间Θ上的极大代数意义下的多项式函数，若对任意的(e1,e2)∈J,(t(e1,x),t(e2,x))都具有关系Rc，则Res对于Θ中的任意参数都成立，即Res对参数在Θ中的摄动具有鲁棒性.
5　例子
　　考虑一个由三台刚性连接机器M1→M2→M3构成的串行加工线.现研究依次加工两个工件J1,J2的阻塞问题.工件Ji在机器Mj上所需加工时间记作Pij,　i=1,2,　j=1,2,3.机器加工工件的时间Pij,　i=1,2,　j=1,2,3作为摄动参数.用tij表示工件Ji在机器Mj上完成加工的时刻，则机器M1,M2加工过程无阻塞的条件分别是t21≥t12和t22≥t13.其参数化表达式为
P11P21≥P11P12,
(36)
(P11P21P11P12)P22≥P11P12P13.
(37)
显然，其均为极区大代数意义下的仿射线性函数之间的不等式关系.对于表1给出的一组实际的参数摄动区间应用顶点检验判据定理1可以得出结论：在参数摄动情形下，机器M1可能出现阻塞现象，机器M2则不会出现阻塞.
表1　加工参数的摄动区间

PM1M2M3
J1[1,2][0.8,1.4][0.8,1.3]
J2[0.7,1.4][1.3,1.7][1,2]

6　结论
　　本文在DEDS的极大代数模型上研究事件的时序在参数发生区间摄动情形下的鲁棒性有限检验，得到一类系统事件时序鲁棒性的Kharitonov-like判据.给出了比较一般情形下事件时序在参数发生摄动时能够保持的一个充分条件.所得到的结果为建立DEDS鲁棒性的分析和综合理论打下了基础，为解决实际系统中的不确定问题，特别是不确定系统的反馈控制问题提供了理论依据。
1)　本文得到国家自然科学基金项目和教委博士点基金项目资助.
作者简介：赵千川　1969年生.1996年在清华大学获得工学博士学位.现为清华大学自动化系教师.主要从事DEDS和HDS的理论与应用研究.
　　郑大钟　1935年生.1959年毕业于清华大学自动控制系.现为清华大学自动化系教授，博士生导师.主要研究领域有线性系统理论，最优控制，大系统分散控制，鲁棒控制，离散事件动态系统等.
作者单位：清华大学自动化系　北京　100084
参考文献
［1］　郑大钟，郑应平.离散事件动态系统理论：现状和展望.自动化学报，1992，18(2)：129―142.
［2］　Ho Y C,Cassandras C.A new approach to the analysis of discrete event dynamic systems.Automatica,1983,19(2):149―167.
［3］　Wonham W M,Ramadge P J.On the supremal controllable sublanguage of a given language.SIAM J.Control and Optimization,1987,25:637―659.
收稿日期　1996-01-22
