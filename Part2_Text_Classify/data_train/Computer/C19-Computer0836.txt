自动化学报
ACTA AUTOMATICA SINICA
2000　Vol.26　No.3　P.365-368



快速激光雕刻算法的理论与实践研究
刘晓东汪盛烈　何云贵
摘　要　建立了一种激光雕刻的数学模型，在此基础上，提出了一种快速激光雕刻算法.该算法经过实践检验，具有良好效果.
关键词　激光雕刻，数学模型，快速算法.
THE STUDY OF THEORY AND APPLICATION OF
FAST ALGORITHM IN LASER CARVING
LIU Xiaodong　WANG Shenglie　HE Yungui
(Institute of Laser Engineering, Huazhong University of Science and Technology, Wuhan　430074)
Abstract　This paper proposes a mathematic model for laser carving. In addition, a fast laser-carving algorithm is given and it is proved to be excellent in practice.
Key words　Laser carving, mathematics model, fast algorithm.
1　引言
　　激光雕刻技术是80年代兴起的一门崭新的工业加工技术，由于其加工速度快、字迹清晰永久、无污染、无磨损等优点，被广泛地应用于军工、机械、电子、汽车、广告美术等行业.在国际上一些发达国家已将该技术作为工业加工的标准工艺之一.
　　随着计算机辅助设计、计算机图形学、工业自动化等学科在激光加工领域的交叉渗透，大大扩展了激光雕刻的应用范围，并为推动相关学科的发展提供了新的思路，成为激光雕刻领域的重要特色.
　　传统的激光雕刻方式是一种模仿打印输出设备的扫描式雕刻法.由于激光雕刻机的光笔只有一支，光笔的一次开启行进关闭操作在工作上留下一条线轨迹，而在两条不相连接的线轨迹之间，光笔将执行关断空行进开启的操作.光笔的空行进，并没有带来实际的雕刻效果，而且光笔的频繁开启与关闭，不仅缩短激光管的寿命，还影响雕刻质量.这样，在一次雕刻过程中，光笔关断的次数就是衡量激光雕刻效率高低的标志.
　　笔者曾在文献［1］中提出一种分块式激光雕刻方法，又在文献［2］中提出一种基于边缘围线追踪的优化方法，均在实践中取得了良好效果.
　　本文将在建立激光雕刻数学模型的基础上，提出更一般意义上的最优化激光雕刻方法.
2　激光雕刻的区域曲线覆盖模型
　　激光雕刻的图形对象主要是平面二值图，而任何一个平面二值图都是一系列连通区域的并集.围成连通区域的封闭曲线称为边界环［3］.
　　定义1.对于某连通区域S，若任意水平直线穿越S时，与其边界环的有效交点数不超过两个，则称S为单调区域(对于边界环上有水平线段与水平直线重合的情况，只计水平直线进入区域的入点和穿出区域的出点为有效交点).
　　显然，凸区域是一种特殊的单调区域.
　　定义2.平面上一点D到平面曲线L的距离是指点D到曲线L上所有点的距离的最小值，记为d(D,L).


图1　单调区域的优化覆盖


图2　凸区域边界环上任意起止点的优化曲线
　　定义3.对正常数δ和连通区域S，若存在S内的一曲线族1Li，满足条件：对于0<i≤n，Li不自交，并且对于0<i,j≤n，i≠j，Li∩Lj=，使得对于S内的任意点D，都存在Li(0<i≤n)，使d(D,Li)<δ，则称Li为S的一个δ覆盖，称n为覆盖的优化当量.若优化当量为1，称此覆盖为优化覆盖，对应曲线为优化曲线.
　　定理1.对于任意单调区域S和任意正数δ，必存在S的δ优化覆盖.
　　证明.如图1所示，对单调区域S，由其上端点A下端点B，作数条间距不大于δ的水平直线穿越S并使之盖住整个S区域.根据定义1，任一条水平直线与S的边界环相交有两个有效交点(仅有一个交点时可视为两个交点重合).于是可按图中箭头所示形成一条由A到B的曲线L.显然，L即为S的一条优化曲线.证毕.
　　定理2.若凸区域S为非退化情形，则存在由S边界任一点起始，并终止于S边界任一点的优化曲线.
　　证明.如图2所示，对于凸区域S，设其上下两端点为A，B.在边界环上取一点C，令其为起始点；在边界环上取一点D，令其为终止点.把边界环上的曲线段AC向S区域内平移一段足够小的距离δ形成曲线段C1A1，并且C1点在过C点的水平线上，A1点在过A点的垂直线上，由曲线CA，C1A1及直线段CC1，AA1构成区域S1.显然，S1中任一点到曲线段CA的距离不超过δ.同理得到曲线段B1D1及区域S2.δ的选取还应使得S1与S2不相交，由于S的非退化假定，这样的曲线段总能得到.从S中除去S1与S2形成区域S3为单调区域.由定理1知，存在S3的δ覆盖且优化曲线L为AB.于是，将曲线段CA，L及DB联成的新曲线段即为区域S的优化曲线.证毕.
　　推论.若某连通区域S能被一条曲线L分解为两个凸区域，则S存在优化覆盖.
　　证明.在两个凸子区域的公共边界处取一点，由定理2可得到某一凸子区域终止于此点的优化曲线和另一凸子区域起始于此点的优化曲线.这样，连接两个优化曲线便得到整个并区域的优化曲线.
　　以上，实际上建立了一个激光雕刻的数学模型.因为激光雕刻的数学本质就是在一定分辨率δ上，找到雕刻图像各连通区域的各个δ覆盖，而优化激光雕刻方法就是寻求优化当量最小的覆盖.特别是，当优化当量为1时，我们找到了一个优化覆盖.
　　任意连通区域必可分解为有限个仅在边界处相交的凸子区域的和［4～6］，而由于每一凸子区域都存在着优化覆盖，任意两个有公共边界的凸子区域的并区域也存在着优化覆盖.这样，就将一个复杂的问题转化为一个较为简单的问题来求解.
　　例如，对于图3中的黑体“口”字所形成的连通区域S，首先将其分解为8个凸子区域.将每一个凸子区域用一个节点表示，而当两个凸子区域有公共边界时，用对应节点间的连线段表示这种关系.这样，连通区域S可表示为图3中的平面图F.


图3　任意连通区域分解及其对应平面图
　　因此，对于连通区域S的覆盖求解问题，又转化为了求图F的节点寻游路径问题.若存在一条经过每个节点一次且仅一次的路径，就找到了区域S的优化曲线，而这种路径，在图论中被称为半哈密尔顿路径［7］.
　　对于图F而言，存在着半哈密尔顿路径，且不止一条，如①-②-③-⑤-⑧-⑦-⑥-④或①-②-④-⑥-⑦-⑧-⑤-③.
　　在数学上，图的哈密尔顿路径判定问题属于一个NP难问题，乞今还没有得到一个充分必要条件.但搜索一个图的节点最优寻游路径，已有许多好的方法，如广度优先、深度优先、动态规划等等.这里不再详细讨论.
3　总结与实践
　　基于上述理论，完整的最优化激光雕刻算法如下：
　　1)将待雕刻值图像分割为有限连通区域；
　　2)将每一连通区域进行凸子区域分解；
　　3)找到每一连通区域的最优寻游路径；
　　4)对于某一寻游路径，用本文的定理和推论中提供的方法找到对应子区域的优化曲线；
　　5)将各优化曲线输出到激光雕刻机上并完成对工件的一次雕刻.
　　本理论和算法均应用于笔者所编制的激光印章排版系统，取得了良好的效果.图4为计算机绘制的激光雕刻模拟样章图，采用本文所提出的最优化激光雕刻方法，比传统的扫描式雕刻法要节省30～40%的时间，并且将光笔开关次数降低到最少，不仅延长了激光管寿命，也使激光雕刻质量得到提高.　　


图4　激光雕刻的印章样品
　　刘晓东　1970年生，华中理工大学激光工程研究院博士，主要研究领域为激光材料加工、计算机图像处理、数控技术等.
刘晓东（华中理工大学激光工程研究院　武汉　430074　E-mail:xiaodong@wuhan.cngb.com）
汪盛烈（华中理工大学激光工程研究院　武汉　430074）
何云贵（华中理工大学激光工程研究院　武汉　430074）
参考文献
［1］　刘晓东，胡兵，何云贵等.复杂区域的快速激光雕刻算法研究.光电子激光，1997，8(5)：387～390
［2］　刘晓东，胡兵，何云贵等.基于区域围线追踪的激光雕刻新算法.华中理工大学学报，1997，25：51～53
［3］　Pavlidis T, Liow Y T. Integrating region growing and edge detection.IEEE Trans Pattern Anal Mach Intelligence,1990，12：225～233
［4］　Feng H Y, Pavlids T. Decomposition of polygons into simpler components――feature generation for syntactic pattern recognition. IEEE Trans.Autom. Control,1975，AC-24(6)：636～650
［5］　徐建华.图像处理与分析.北京：科学出版社，1992
［6］　胡长原，张福炎.复杂形状区域的一种笔划分解算法及其应用.计算机辅助设计与图形学学报.1996，8(6)：408～414
［7］　胡美琛，邱伟德.组合与图，北京：人民邮电出版社，1986
收稿日期　1997-11-21
修稿日期　1998-03-16
