信息与控制
INFORMATION AND CONTROL
1999年 第28卷 第2期 Vol.28 No.2 1999



多级服务台系统的优化＊
郑应文
　　摘要　本文研究DEDS中多级服务台系统的优化问题．设顾客进入系统的顺序固定,系统指标是使总服务时间最短．系统的建立者可以用一定的投入来改善某些服务台的效率．本文提出一套设计最佳投资方案的算法,使得在一定的资金条件下,系统的总服务时间能达到最小．
　　关键词　离散事件系统，优化，矩阵图
OPTIMIZATION OF MULTI-STAGE SERVE STATION SYSTEMS
ZHENG Yingwen
(Institute of Automation,Fuzhou Univ.))
　　Abstract　In this paper the problem of optimization of multi-stage serve station systems (MSSS) in DEDS is developed.Customers enter MSSS with a fixed order.The designer of MSSS can put certain investment on some stations to shorten serve time. An approach is presented to optimize the investment strategies,which should get minimal total serve time.
　　Key words　DEDS, optimization, matrix graph
　　1　模型的建立
　　离散事件系统及网络规划中的许多问题,可以描述为如下的“多级服务台”问题[1].n个顾客依次通过m个不同的服务台,在同一时刻,1个顾客只能在1个服务台上接受服务,1个服务台也只能同时接待1个顾客．设第i个顾客(1≤i≤n)在第j服务台(1≤j≤m)上接受服务所需的时间是tij．当n个顾客依一定顺序排队接受服务时,所需要的总服务时间(即第1个顾客在1号服务台开始接受服务到第n个顾客离开m号服务台的时间长度)为w,系统的指标是使w尽量小．
　　比如在机械加工线上,可以把n个工件依次通过m个机床的问题看作是这种问题．我们假定顾客或工件的排序是固定的,这样,可以把tij写成一个n×m的矩阵,称为O型矩阵．
　　假定系统的建立者可以增加一定的资金投入,来提高某个服务台的工效,设投入单位资金可以使第j个服务台的效率提高ηj,也就是说如果对第j个服务台投入资金ε,可以使矩阵T中第j列所有元素的值都减少εηj倍,由原来的tij变成为\(1-εηj)tij,这里εηj是小于1的正实数．本文研究的问题是:在这种情况下,系统的建立者的最优策略是将资金按什么比例用以优化哪几个服务台,才能改进系统使w达到最小．
　　2　最大路径与各型矩阵图
　　定义1　在n×m的矩阵T中,从左上角元素t11开始,向右或向下作一条折线,通过T阵中的某些元素tij,到达右下角的元素tnm为止,称为矩阵T的一条路径．将路径所经过的这n+m-1个元素的值相加,其和称为这条路径的权．从t11到tnm的所有路径中,权最大的路径称为T的最大路径．矩阵T的最大路径一定存在,但未必唯一．在多级服务台系统中,为保证w尽量小,最大路径上的各级服务要一个接一个进行,不能有任何时刻中断．
　　由极大代数方法[2],不难证明
　　定理1　以矩阵T描述的多级服务台系统,总服务时间w等于T矩阵中最大路径的权．
　　为了方便地求出T的最大路径及其权,还可以建立以下几种类型的矩阵图:
　　第1型　以矩阵T(1)表示,其元素为
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　(1)
　　　　　　　　　　　　　　　　　　　　　　　　　　　　(2)
对其它的
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　(3)

　　这时总服务时间
　　从出发,找出上方或左方元素中较大的一个,用短线连上,这样依次连到,就可以找到最大路径．如果在某一点,上方与左方数值相同,则要都连上,这时系统的最大路径不止一条,但它们的权是一样的．
　　第2型　由对称性,亦可从右下角开始,令,然后向上方与向左方依次计算,每个等于的值与中较大一个相加的和,这样加到左上角,所得的t(2)11就是总服务时间w．
　　第3型　将矩阵T的元素分割成T1与T2两个部分,左上部分为T1,右下部分为T2,使得如果有T中元素则tij∈T1(i≤k,j≤l);如果tgh∈T2,则tij∈T2(i≥g,i≥h)．对T1部分用第1型计算,T2部分用第2型计算,那么在T1T2分割线旁相邻两个元素和的最大值就是总服务时间w．
　　常见的分割方法是将T的前几列划为T1,其余的列划为T2,在分割线左边一列的元素为A1,A2,…,An,分割线右边一列元素为B1,B2,…,Bn,则
　　第4型　当把矩阵T按第3型方式写成为
后,我们令a1=A1,a2=A2-A1,…,an=An-An-1;bn=Bn,bn-1=Bn-1-Bn,…,b1=B2-B1,由此可得到一个n×2型矩阵T(4),总服务时间W为a1到bn的最大路径的权．
　　第5型 以第3型方式将矩阵T左边n列划为T1区,用1型表示,把T的右边数列划为T2区,用2型表示,但中间保留几列未划在T1或T2之中,仍用tij表示,记作T0区,这时的路径是从T1区边界上的某个元素Ai开始,经过T0区的某些元素,到达T2区边界的元素Bj(i≤j),路径的权是这些元素相加,其最大值就是总服务时间w．
　　第6型　将第5型中T1与T2的边界元素用第4型的方式加以处理,和T0区(设有c列)的元素一起,可将矩阵T化为一个n×(2+c)阶的0型矩阵．
　　3　微观优化策略
　　设多级服务台系统0型矩阵为[tij],单位量的投资可以使第j个服务台的效率提高ηj,就是使T阵中第j列元素的值都减少tij.ηj．现在投入少量资金ε,没有引起最大路径的变化,这时的最佳投资方法称为微观优化策略．
　　3.1　最大路径唯一的情况
　　设矩阵T只有一条最大路径R,它的权为r,R经过T阵第j列的各元素的和为rj(j=1,2,…m),则Σrj=r．令Sj=rjηj,如有第k列存在,使得Sk>Sj(j≠k),那么k列就是首先应该改善的服务台,这时投入资金ε,可使系统缩短服务时间△W=Sk.ε,定义系统的投资效益,可知这时ξ=Sk．
　　若有P列k1,k2,…,kp的投资所得到的Sk1,Sk2,…,Skp相等,且都大于其它各列的Sj值,应同时对这P列进行投资改善,且对各列的投资额应相等,以保证各SK1到SKp同步改善．
　　3.2　最大路径不唯一的情况．
　　矩阵T中,设有q条路径R(1),R(2),…,R(q)都是权等于r的最大路径,它们经过j列的各元素的和分别为,这些和与单位投资效率ηj相乘的值为不难看到,如果系统建立者的改善方案是对j列投资额为μjε,这里,那么路径R(1)缩短了,R(2)缩短了最大路径的减少量为

而系统的最大投资效益ξ为

　　最优投资方案(μ1,μ2,…,μm)的选择,当最大路径数q=2时,可用图解法来作．
　　在两条平行的纵坐标轴上,左轴标上的值,右轴标上的值,将与之间用线段连结,凡的用红线,否则用蓝线．
　　3.2.1　如果有一条或数条红线(j1,j2,…,jp)位于所有蓝线的上方(之间无交点),那么最优投资策略应是取使中最大者所对应的列jk．如果有两个或数个相等且都最大,则应平均分配投资这几列．
　　如果有蓝线位于所有红线之上,类似地,应投资于这些蓝线中使S\+\{(1)\}的点最大的列．
　　3.2.2　如果没有3.2.1中的红线或蓝线存在,则比较所有的红线与蓝线的交点,取其纵坐标最大的交点,不妨设这点是红线与蓝线的交点,交点的纵坐标值为．那么当系统建立者对j1列投资εμj1,对j2列投资εμj2,且当二者投资的比例为

的时候,所提高的效率达到最大,为

　　4　宏观优化策略
　　当投资额很少时,可用上节的投资策略来优化多级服务台系统．设矩阵T的最大路径R经过的第j列的Sj最大,对第j个服务台投资ε,第j列各元素都减少了原来的倍,最大路径在j列的权由原来的γj减少为γj-εSj=(1-βj)γj．当ε逐渐增大到一定数值时,最优投资策略会发生变化．
　　4.1　最大路径R经过的路线在优化中不改变的情况．
　　设R经过第j'列的Sj'为次大(小于Sj而大于其它各列)．当对j列投资额ε到一定数量时,第j列的Sj降为(1-βj)Sj,与Sj'的值相等,这时就要改变投资策略,开始对j列与j'列同时进行投资,这称为策略的第一种转折,其转折点的条件是
(1-βj)Sj=Sj'
或βj=1-Sj'Sj
　　4.2　最大路径R发生变化的情况
　　随着最大路径R的权逐渐变小,系统中将出现另一条路径R′也会成为最大路径,这时最优投资策略也会发生变化,称为策略的第二种转折．
　　设微观优化的列是第j列,我们将系统写成第5型,前j-1列是T1区,从j+1列起是T2区．这时的最大路径是从Ai经tij通过j列到tkj再到Bk止．权为,这里M=Ai+Bk,在对j列优化的过程中,M是不变的量．
　　系统中的其它路径都可表示为Ap→Bq的形式,权为．这里M′=Ap+Bq,γ′j=．当对j服务台投资ε时,这条路径的权将降为M′+(1-βj)γ′j．因此产生第二种转折的条件是

或
这里．不难看出,如发生第二种转折,路径R'的必要条件是△γ>△M>0.
　　最后,把建立多级服务台系统的优化策略归纳如下:
　　(1)对系统矩阵图,求出最大路径;(2)找出微观优化的列j;(3)找出次优列j',计算;(4)列出其它M'>M的路径,找出;(5)对j级服务台进行投资优化,投资额为;(6)返回1,进行下一步最优策略的计算．
国家863计划和福建省自然科学基金资助项目
作者简介：郑应文，男，50岁，副研究员．研究领域为离散事件动态对策，CIMS，控制理论在农业上的应用等．
作者单位：福州大学自动化研究所　350002
参考文献
　1　彭永进等．离散事件动态系统,湖南科学技术出版社,长沙,1994
　2　陈文德等．离散事件动态系统(极大代数法),科学出版社,北京,1994
1997-11-22收稿
