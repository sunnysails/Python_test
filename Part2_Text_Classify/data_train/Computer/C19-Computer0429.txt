信息与控制
INFORMATION AND CONTROL
1999年 第28卷 第6期 Vol.28 No.6 1999



基于平均空间的故障检测与诊断

石志勇 李国章 付建平 黄允华
　　摘　要：本文针对故障检测与诊断中存在系统不确定性问题，应用空间近似法提出一种直接求取残差增益使残差与系统不确定性最大限度解耦的方法，并提出区分执行机构故障和传感器故障的方法，最后给出了仿真结果，仿真证明该方法具有计算量小、检测诊断可靠等特点．
　　关键词：故障检测与诊断, 平均空间法, 最优解耦
　　中图分类号：TP206　　　　　　文献标识码：B
FAULT DETECTION AND DIAGNOSIS BASED ON MEAN SPACE 
SHI Zhi-yong LI Guo-zhang FU Jian-pin HUANG Yun-hua
(Ordnance Engineering College, Shijiazhuang 050003)
Abstract:The paper presents a problem of how to decouple system uncertainty with residual and how to distinguish sensor failure from executor failure. Residual gain matrix can be obtained by means of mean space. At last ,simulation results are given.
　　Key words:fault detection and diagnosis, mean space method, optimal decoupling
1　提出问题
　　自1971年Beard首次提出故障检测滤波器以来，控制系统故障检测与诊断技术得到了快速发展，目前，已经形成很多检测与诊断方法[1-5]，并在许多领域得到应用．但总的说来，其应用并不十分广泛，究其原因主要是系统存在不确定性，这些不确定性因素包括过程噪声、建模误差和参数摄动．根据描述方式不同，模型的不确定性可分为结构化不确定性和非结构化不确定性．本文针对结构化不确定性，并假设系统的不确定性可以表示为系统未知输入．鲁棒故障检测算法是指故障检测算法具有抵御系统不确定性的特性．通常，检测算法要与系统不确定性完全解耦是很难的，如何使检测算法尽量与系统不确定性解耦是值得研究的课题．
　　设一线性时不变系统描述如下：
y(s)=u(s)+d(s)　　　　(1)
其中G(s)为系统的标称传递函数，ΔG(s)为模型误差，d(s)为干扰．
　　（1） 式可表示为：
y(s)=G(s)u(s)+v(s)　　　(2)
v(s)=ΔG(s)u(s)+d(s)　　(3)
v(s)包含了模型误差和干扰．
　　设系统的状态空间实现为：
　　　(4)
Y=Cx+Du+fs　　　　　　　(5)
其中x为n×1状态向量；u为q×1系统输入；Y为m×1系统输出；d为q×1未知输入．E为未知输入分布矩阵，Ed用于描述作用于系统的不确定性，fs为传感器故障，Qfa描述执行机构故障．
　　设计如下状态观测器：
　　　(6)
　　　　　　　　　　(7)
为x的估计值，为Y的估计值．设状态估计误差为：
e=x-　　　　(8)
=(A-KC)e-Ed+Qfa-Kfc　　　(9)
　　设残差信号为：
r=W(Y-)　　　　　　(10)
其中，W为p×m维加权矩阵，可推导得：
r(s)=fs(s)+WC(sI-A+KC)-1Qfa(s)+WC(sI-A+KC)-1Ed　　　　(11)
　　为保证残差与未知输入d(s)解耦，并当无故障时残差为0，必须合理选择W和K使得：
　　1) sI-A+KC的特征值位于s平面的左半面，保证观测器稳定；
　　2) WC(sI-A+KC)-1Ed=0　　　　　　　　　　　　(12)
　　根据文献[6]，（12）成立的必要条件为：
WCE=0　　　　　(13)
　　文献[5]中提出了两种最优解耦方法，其实可归结为：
　　设H=WC
　　（13）式等价为：
HE=0
　　H有解的充分必要条件为Rank(E)≤n-p
　　寻求与E在下述意义下最接近的E*: 1） Rank(E)≤n-p．
　　2） ‖E-E*‖2F最小，subject to : H≠0, HE*=0
　　这种寻优方法首先求出H，然后再求W，计算烦琐；对于实际系统而言，E不可能精确已知，可能是一系列值或近似为一系列值，本文对上述方法进行改进，提出一种能直接求出W，且对系列E值具有鲁棒性的诊断算法．故障检测与诊断技术要求在检测到故障以后应查明故障源，上述方法可以判断系统是否发生故障，但不能区分是执行机构故障还是传感器故障．本文空间近似法[7]提出一种故障诊断方法，仿真证明是一种有效的方法．
2　近似空间法
　　考虑如下方程
WH=0　　　　　(14)
即W为H的正交空间．
　　设H的取值为H1,H2,…,HQ．由于一个的正交补通常不与其他的Hj，j≠i（j=1,2,…,Q）正交，但从几何的角度出发，可以找到一个空间W，使得它与Hi（i=1、2…Q）的距离之和最小，即
　　　(15)
　　最小．
　　这个W便是几何意义上的Hi（i=1,2,…,Q）平均值的正交补空间．
　　定义如下…维矩阵：
　　　　　(16)
　　最优的平均空间由ZQ的列空间构成，
　　　　　　　　　　　　　　　(17)
　　这里，‖●‖F为Frobenius范数．一个n×m维矩阵X的Frobenius范数为：
‖X‖F=∑ni=1∑mj=1x2tj　　　　　　　　　　　　　(18)
令Z的奇异值分解为：
Z=UΣV　　　　　　　　　　　　　　　　　　　(19)
其中
　　　　　　　　　　　(20)
　　U、V均为正交矩阵，其中σ1≥σ2≥…≥σM是Z的奇异值．使（17）式极小的Z0显然是

　　由于矩阵U的列向量是正交的，因此Z的正交补由U的前P列组成，即
W=[u1, u2,…, up]
3　空间近似法在参数摄动系统中的应用
　　设系统可描述为：

　　其中，为系统标称模型，[ΔA, ΔB]表示系统的模型摄动，N为噪声干扰，fa、fs分别为执行机构和传感器的故障信号．构造如下状态观测器：

　　令，则

设残差为

令E=[ΔA ΔB F], ，则

　　故障检测步骤如下：
　　(1) 合理选择K，使得sI-A+KC的特征值位于s平面的左半面，保证观测器稳定；
　　(2) 根据E，确定W．
　　一般说来，E不可能精确得到，但可以将其近似为一系列的值E1、E2…EQ．通常，C是一个常量矩阵，设Hi=CEi，可根据上述空间近似法确定W．如果已知Ei的概率为pi，，则（15）式可改为：

　　可用相似的方法求出W，只需用即可．
4　空间近似法在故障诊断中的应用
　　通常，执行机构和传感器故障有四种情况：执行机构和传感器均无故障；执行机构发生故障而传感器无故障；执行机构无故障而传感器发生故障；执行机构和传感器均发生故障．执行机构和传感器同时发生故障的可能性很小，只需判断是执行机构故障还是传感器故障即可．如果使残差与执行机构故障无关，根据上述检测方法还能检测到故障，说明是传感器发生故障，否则是执行机构发生故障．
　　(11)可表示为

令E′=[QE]
　　应用空间近似法求出W′，可保证执行机构故障与残差最大限度解耦．由此可以诊断出是执行机构故障还是传感器故障．
5　仿真实验
　　考虑如下三阶线性系统：

其中


　　取U为单位阶跃信号，d=[d2，d2,d3,d4]T其中d1，d2，d3，d4为互不相关的带有直流分量的随机干扰，fa、fs分别为执行机构和传感器的故障信号．
　　设计如下状态观测器：

　　定义残差信号

　　令
CEi=Hi
　　构造如下矩阵
Z′=[H1,H2,H-]
Z′的奇异值分解为

取W1=[0.9105，-0.0963，0.4021]
令K=5*I+A，I为单位矩阵，保证系统稳定． 
　　图1、2、3为仿真结果，其中图A为第4秒执行机构发生幅度为1的故障时残差变化曲线，图B为第4秒传感器发生幅度为1的故障时残差变化曲线．图1对应于E=E3，图2对应于E=E2，图3对应于E=E1．
　　由仿真结果可以看出，当未知输入矩阵E在一定范围变化时，采用上述方法可直接计算W，可以可靠的检测出故障．
若上述系统，，E=E1，其他参数不变．设执行机构在4s时发生幅度为1的故障，当采用检测算法时，仿真结果如图4，当用检测上述诊断算法时，仿真结果如图5．可见，当执行机构发生故障时，上述诊断算法能保证残差与故障解耦，从而当系统发生故障时能区分是执行机构故障还是传感器故障．


图1　 仿真结果


图2　仿真结果


图3　仿真结果


图4　仿真结果

图5　仿真结果
　　由仿真结果可以看出，当未知输入矩阵E在一定范围变化时，采用上述方法计算W，可以可靠的检测出故障．
6　小结
　　本文就最优解耦和故障诊断问题进行了一些探讨，仿真实验证明，用近似空间法进行最优解耦和故障诊断具有较好的效果．
作者简介
　　石志勇，男，博士生．研究领域为故障检测与诊断．
作者单位：军械工程学院一系　石家庄　050003
参考文献
1　Frank P M. Fault Diagnosis in Dynamic System via State Estimation-A Survey , Proc . Of First Europe Workshop on Fault Diagnosis , Reliability and Related Knowledge Based Approaches, 1987, 1(1):35～98
2　Iserman, R., Process Fault detection Based on Modeling and Estimation Method -A Seuvey,Automatica, 1983, 20(4):387～404
3　叶银忠，潘日芳，蒋慰孙.动态系统的故障检测与诊断方法.信息与控制， 1987, 16(6):27～34
4　周东华，席裕庚，张钟俊. 故障检测与诊断技术. 控制理论与应用， 1991, 8(1):1～10
5　李谓华，萧德云，方崇智. 基于数学模型的故障检测与分离技术. 控制与决策，1992, 7(6):401～409
6　陈金水. 鲁棒故障诊断与优化及其工业应用. 浙江大学博士学位论文，1995
7　Xi-Cheng Lou et. al. Optimal Robust Redundancy Relations for Failure Detection in Uncertain System, automatica, 1986, 22(3)333～344
收稿日期:1998-07-8
